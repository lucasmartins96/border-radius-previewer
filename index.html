<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <title>Border-Radius Previewer</title>
  <meta name="description" content="">
  <link rel="stylesheet" href="./style.css">
</head>

<body>
  <div class="container d-flex align-items-center justify-content-center">
    <main class="border rounded-lg">
      <div class="container d-flex flex-column justify-content-center align-items-center h-100" id="shape-container">
        <div class="row d-flex w-100 justify-content-around" id="top-input">
          <input type="number" class="form-control" name="top-left" id="top-left" onchange="updateBorderRadius(this)">
          <input type="number" class="form-control" name="top-right" id="top-right" onchange="updateBorderRadius(this)">
        </div>
        <div class="row my-4" id="shape"></div>
        <div class="row d-flex w-100 justify-content-around" id="bottom-input">
          <input type="number" class="form-control" name="bottom-left" id="bottom-left"
            onchange="updateBorderRadius(this)">
          <input type="number" class="form-control" name="bottom-right" id="bottom-right"
            onchange="updateBorderRadius(this)">
        </div>
        <div class="row d-flex flex-column justify-content-between align-items-center my-4 w-50"
          id="shape-container-footer">
          <input class="form-control form-control-lg w-100" type="text" value="" name="transferArea" id="transferArea">
          <button type="button" id="copyCSS" class="btn btn-lg my-2" onclick="copyCSS()">Gerar e Copiar CSS</button>
        </div>
      </div>
    </main>
  </div>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
    integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
    crossorigin="anonymous"></script>
  <script type="text/javascript">
    let root = document.documentElement;

    function updateBorderRadius(event) {
      let borderRadiusValue = event.value;
      let borderRadiusDirection = event.id;

      let cssVariable = '--' + borderRadiusDirection;
      //console.log({cssVariable, borderRadiusValue});
      root.style.setProperty(cssVariable, borderRadiusValue + 'px');
    }

    function copyCSS() {
      /* let copyText = document.getElementById('shape').style.borderRadius;
      document.getElementById('transferArea').value = copyText; */
      const topLeft = root.style.getPropertyValue("--top-left") || '0px';
      const topRight = root.style.getPropertyValue("--top-right") || '0px';
      const bottomLeft = root.style.getPropertyValue("--bottom-left") || '0px';
      const bottomRight = root.style.getPropertyValue("--bottom-right") || '0px';
      let css = "";
      css = 'border-radius: ' + topLeft + ' ' + topRight + ' ' + bottomRight + ' ' + bottomLeft;
      css += ";";

      document.getElementById('transferArea').value = css;
      document.getElementById('transferArea').select();
      document.execCommand("copy");

    }
  </script>
</body>

</html>